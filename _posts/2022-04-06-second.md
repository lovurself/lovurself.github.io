---
layout: post
title:  "[이론공부] API와 JSON"
date: 2022-04-06
---

# [이론공부] API와 JSON

2022-04-06 



## API란?

클라이언트와 서버 간에는 수많은 요청과 응답이 있다.

그런데 어떤 요청에 어떻게 응답을 해야 하는지 모르기 때문에 요청을 구분할 수 있는 체계가 필요하다.

이러한 체계가 **API**이다.

즉, 서로 다른 프로그램에서 요청과 응답을 주고 받을 수 있게 만든 체계이다.



**"API는 서버 개발자가 만들고 클라이언트 개발자가 사용하는 것이다."**

> 클라이언트가 요청을 하고 서버는 응답을 한다.
>
> 클라이언트는 정확한 곳(주소)에 요청을 해야 하고 서버는 클라이언트가 요청대로 기능을 수행하고 데이터를 받고 전달한다.



### 1. 클라이언트의 요청

클라이언트가 서버에 요청을 할 때 4가지 요소로 나눌 수 있다.

CRUD = Create (만들기) / Read(불러오기) / Update(바꾸기) / Delete(지우기)

> 만약 클라이언트가 A를 요청했을 때 서버에는 각 요소의 주소가 생기는데
>
> 서버주소/Acreate, 서버주소/Aread, 서버주소/Aupdate, 서버주소/Adelete를 가지게 된다.
>
> 문제는 클라이언트가 요청할 때마다 각각의 주소가 생겨나면 주소가 많아지면서 관리하기가 힘들어진다.
>
> 이때, 좀 더 체계적인 API를 만들었고 
>
> 그것을 REST(Representational State Transfer)한 API = RESTful API라고 하였다.



RESTful API를 사용하면서 그 전보다 주소의 개수가 줄어들었다.

CRUD를 하나의 주소로 관리하기 떄문!

하나의 주소에 어떤 요청인지에 대한 이름표(HTTP 메소드)를 붙여서 전송하는 방식이다.

> 각각의 요청에 대한 이름표
>
> Create = POST
>
> Read = GET
>
> Update = PUT(전체) PATCH(일부)
>
> Delete = DELETE

[ RESTful API는 모든 회사에서 통용되는 절대적인 규칙이 아닌 상황마다 다양한 방식으로 변형해서 사용 ]



> 예시)
>
> GET / users : 사용자 데이터를 불러오는 것
>
> GET / users / 1 : 특정 id값을 가진 사용자 데이터를 불러오는 것
>
> POST / articles : 특정 게시물의 정보를 등록하는 것
>
> GET / articles : 모든 게시물의 정보를 불러오는 것
>
> GET / articles / 2 : 특정 id값을 가진 게시물의 정보를 불러오는 것
>
> DELETE / articles / 2 : 특정 id값을 가진 게시물을 삭제하는 것
>
> PUT / articles / 3 : 특정 id값을 가진 게시물의 전체를 수정하는 것



### 2. 서버의 응답

서버가 클라이언트에 응답을 할 때는 크게 2가지의 경우가 있다.

Success와 Error

2가지의 경우를 모든 기능들이 똑같은 방식으로 응답해줄 수 있도록 보통 HTTP 상태 코드(HTTP 이외에도 WAP, WebRTC, MQTT 프로토콜도 있다.)로 표현한다.

Success = 200번대

Error = 400, 500번대



### API의 사용

개인 프로젝트나 팀 프로젝트를 하다보면 유튜브나 날씨 등 이미 있는 기능을 가지고 와서 사용할 때가 있다.

(내 기준 저 기능들을 새로 만들기에는 돈과 시간과 머리가 안되니까... 있는 기능 잘 가져와서 사용하기...)



---



## JSON이란?

클라이언트가 요청하고 서버가 응답할 때 다양한 형식으로 주고 받을 수 있다.

이때 무한개의 형식이 만들어지며, 이것이 또 소통에 문제를 일으키게 된다.

그래서 개발자들은 형식을 또 정의하기로 하였고 과거에는 XML이 널리 사용되었지만 현재는 JSON을 가장 많이 사용하고 있다.



* **JSON의 형식**

  ```json
  { // JSON의 시작
      key1: value1,
      key2: value2
  } // JSON의 끝
  ```

  어떠한 key값이 있고 요청하는 객체마다 다른 value값을 가지고 있다.

  value값으로 배열을 사용할 수도 있다.

  ```json
  {
      key1: value1,
      key2: value2,
      key3: [value3, value4, value5]
  }
  ```





## 한마디로!

**" 클라이언트와 서버는 API로 요청과 응답을 주고 받고, 그때 필요한 데이터들을 JSON 형식으로 주고 받는다."**



Open API (네이버, 카카오 등)을 통해 읽고 이해하는 연습이 필요할 것 같다!



> **"비전공자를 위한 이해할 수 있는 IT 지식" 저자.최원영**
>
> 참고하여 내용을 정리함
>
> 비전공자라면 추천하는 책이며, 아주 친절하게 설명되어 있음
